extends layout

block content
  div.container
    br
    div#player.row.well
      div.span8
        strong
          |Now Playing: 
        |#{info.Title} by #{info.Artist} from the album #{info.Album}
      div.span3
        div.btn-group
          button.btn(onclick="javascript:dispatchCommand('previous')", title="previous song")
            i.icon-fast-backward
          button.btn(onclick="javascript:dispatchCommand('toggle')", title="play/pause")
            i.icon-play
            i.icon-pause
          button.btn(onclick="javascript:dispatchCommand('next')", title="next song")
            i.icon-fast-forward
          button.btn(onclick="javascript:dispatchCommand('setvol', { 'volume': 0 })", title="mute")
            i.icon-volume-off
          button.btn(onclick="javascript:dispatchCommand('setvol', { 'volume': #{status.volume}-5 })", title="volume down")
            i.icon-volume-down
          button.btn(onclick="javascript:dispatchCommand('setvol', { 'volume': #{status.volume}+5 })", title="volume up")
            i.icon-volume-up
    div.row
      p.span8.text-info
        |Current status is #{status.state} / #{parseInt(info.Pos) + 1} of #{playlist.length} items / Random: 
        if status.random === '1'
          |on 
        else
          |off 
        | / Repeat: 
        if status.repeat === '1'
          |on 
        else
          |off 
      div.span1
        |Volume
      div.progress.progress-info.span3
        div.bar(style="width: #{status.volume}%")
    if error
      div.row.alert
        |Some error text
    
    div.row.well
      div.span4
        p
          |Current playlist:
        if playlist
          ol
            each playlistitem in playlist
              if playlistitem.Id === info.Id
                strong
                  li
                    |#{playlistitem.Title} by #{playlistitem.Artist}
              else
                li
                  |#{playlistitem.Title} by #{playlistitem.Artist}          
      div.span7
        p
          |Search for a track to add:
        form.form-search(action="#", onsubmit="javascript:search(document.getElementById('searchTerm').value )")
          div.input-append
            input#searchTerm.span6.search-query(type="text")
            button.btn(type="submit")
              |Search
        div#searchresults
          ul.unstyled     
              